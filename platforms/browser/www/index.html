<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' gap:; style-src 'self' 'unsafe-inline'; media-src *" />
    
    <title>Hello World</title>
</head>

<body>
    <div class="app">
        <h1>iphonegep学习</h1>
        <button id="btn1">位置 </button>
        <p id="p1"></p>
    </div>
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript">
         
            // 等待加载PhoneGap
            btn1.addEventListener("click", onDeviceReady, false);
            console.log(p1)
	
	// PhoneGap加载完毕
	function onDeviceReady() {
		navigator.geolocation.getCurrentPosition(onSuccess, onError);
	}
	
	// 获取位置信息成功时调用的回调函数
	function onSuccess(position) {
		var element = document.getElementById('p1');
		element.innerHTML = 'Latitude维度: '           + position.coords.latitude              + '<br />' +
							'Longitude精度: '          + position.coords.longitude             + '<br />' +
							'Accuracy准确度: '           + position.coords.accuracy              + '<br />' +
							'Timestamp: '          + new Date(position.timestamp)          + '<br />';
	}
	
	// onError回调函数接收一个PositionError对象
	function onError(error) {
		alert('code: '    + error.code    + '\n' +
			'message: ' + error.message + '\n');
	}


      
    </script>
</body>

</html>
